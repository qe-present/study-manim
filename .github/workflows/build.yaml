name: 打包
on:
  push:
    branches:
      - main
jobs:
  build:
    runs-on: windows-latest
    steps:
      - name: 检查提交消息
        id: check_message
        shell: bash
        run: |
          if [[ "${{ github.event.head_commit.message }}" =~ ^[0-9]{2}$ ]]; then
            echo "match=true" >> $GITHUB_OUTPUT
          else
            echo "match=false" >> $GITHUB_OUTPUT
          fi

      - name: 判断打包条件
        if: steps.check_message.outputs.match == 'true'
        run: |
          echo "检查版本号通过，开始打包..."

      - name: 读取仓库
        uses: actions/checkout@4


      - name: 设置 Python 版本
        uses: actions/setup-python@v4
        with:
          python-version: '3.13'
      - name: 安装manim
        run: |
          pip install manim
      
